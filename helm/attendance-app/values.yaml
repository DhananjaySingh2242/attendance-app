# Default values for attendance-app
replicaCount: 1

image:
  repository: dhananjaysingh/attendance-app
  tag: "1.0"
  pullPolicy: IfNotPresent

service:
  type: NodePort
  port: 8081
  nodePort: 30007

# Optional: override app name/labels
nameOverride: ""
fullnameOverride: ""

# MySQL / Spring datasource (app connects to Service "mysql" in cluster)
spring:
  datasource:
    url: "jdbc:mysql://mysql:3306/attendance?useSSL=false&allowPublicKeyRetrieval=true&serverTimezone=UTC"
    username: attendance
  jpa:
    databasePlatform: org.hibernate.dialect.MySQLDialect

# Secrets for env (existing k8s secret) - used for SPRING_DATASOURCE_PASSWORD
existingSecret:
  name: db-secret
  mysqlPasswordKey: mysql-password

# Keycloak (required by KeycloakUserService; set to empty or disable if not using Keycloak)
keycloak:
  authServerUrl: "http://keycloak:8080"
  realm: "keycloak-demo"
  admin:
    clientId: "attendance-admin-client"
    clientSecret: ""  # set via existingSecret or extraEnv in production

# Extra env vars (optional)
extraEnv: []
#  - name: KEY
#    value: value
#  - name: KEY_FROM_SECRET
#    valueFrom:
#      secretKeyRef:
#        name: secret-name
#        key: key-name
